<!DOCTYPE HTML PUBLIC "HTML 4.01 Transitional">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>ts.lsp</title>

<link rel="stylesheet" type="text/css" href="newlispdoc.css" />
</head>

<body style="margin: 20px;" text="#111111" bgcolor="#FFFFFF" 
            link="#376590" vlink="#551A8B" alink="#ffAA28">
<blockquote>
<center><h1>ts.lsp</h1></center>
<p><a href="index.html">Module index</a></p><br/>
<h2>Module:&nbsp;ts.lsp</h2><p>This GUIserver (ts.lsp) realizes an interface between</p>
 the base modul (Tk.lsp) and the user-application.
 It is possible to define widgets and their position within the GUI.
<b>Author: </b>pdb 2024<br/>
<br/><br/>
 A connection will be used to the Tcl/Tk-Server <em>/usr/bin/wish</em> via base
 modul <em>Tk.lsp</em>.
<br/><br/>
 filename: /home/paul/.local/lib/newLISP/Tk-server/ts.lsp



 (load (string LIBS "Tk.lsp"))     ;(context 'Tk)
 (load (string LIBS "msg.lsp"))    ;interface to Tcl/Tk message boxes 








<br/><br/><center>&sect;</center><br/>
<a name="_build-tk-name"></a><h3><font color=#CC0000>:build-tk-name</font></h3>
<b>syntax: (<font color=#CC0000>:build-tk-name</font> <em>obj</em>)</b><br/>
<b>parameter: </b><em>obj</em> - = (self) Object of any ts-class<br/>
<br/><br/>
 Method :build-tk-name uses the Name and Parent information of the objects
 used in the Name-Parent-chain to build a name in Tcl/Tk-syntax.
<br/><br/>
<b>Example:</b><blockquote><pre> (ts:setw (Window (Name "win") (Title "MyTitel") (Minsize (Width 100) (Height 50))))
 &gt; win
 (Window (Name "win") (Title "MyTitel") (Minsize (Width 100) (Height 50)))
 &gt; frm 
 (Frame (Parent win) (Name "frm"))
 &gt; lb1
 (Label (Parent frm) (Name "lb1") (Text "Feld 1"))
 
 &gt; (:build-tk-name lb1)
 ".frm.lb1"</pre></blockquote>
<br/><br/><center>&sect;</center><br/>
<a name="_setgrid"></a><h3><font color=#CC0000>:setgrid</font></h3>
<b>syntax: (<font color=#CC0000>:setgrid</font> <em>obj</em> <em>row</em> <em>column</em> [<em>columnspan</em> <em>padx</em> <em>pady</em> <em>sticky</em>])</b><br/>
<br/><br/>
<b>parameter: </b> - <em>obj</em> is the widget-object to which the position will be added<br/>
<b>parameter: </b> - <em>row</em> is of the form (Row <em>num</em>) will be added to <em>obj</em><br/>
<b>parameter: </b> - <em>column</em> is of the form (Column <em>num</em>) will be added to <em>obj</em><br/>
<br/><br/>
 optional:
<br/><br/>
<b>parameter: </b> - <em>columnspan</em> is of the form  (Columnspan number) and will be added to <em>obj</em><br/>
<b>parameter: </b> - <em>padx</em> is of the form (Padx <em>num</em>) will be added to <em>obj</em><br/>
<b>parameter: </b> - <em>pady</em> is of the form (Pady <em>num</em>) will be added to <em>obj</em><br/>
<b>parameter: </b> - <em>sticky</em> is of the form (Sticky <em>str-sticky</em>) will be added to <em>obj</em><br/>
<br/><br/>
 All parameters are referenced by the use of the (self) or the (args)
 function.
 Therefore they are not named in the parameter list of the function
 definition.
<br/><br/>
 notice:
 positions of (args) are interchangeable. 
<br/><br/>
 Method <em>:setgrid</em> adds a grid position to (self).
 This stored position will be unique: the last one given, will be used.
 The grid position is being sent to Tk.
<br/><br/>
 Optionally there can be padx and pady values given, in order to have
 some space around the widget (self).
<br/><br/>
 The <em>sticky</em> option should have a string containing any combination of
 the characters in [nsew]
 (standing for "north", "south", "east", "west").
<br/><br/>
<b>Example:</b><blockquote><pre> &gt; (ts:setw (Label (Name 'lbl_quelle) (Text "Quelle"))) ;define label
 (Label (Name "lbl_quelle") (Text "Quelle"))
 
 &gt; (:setgrid lbl_quelle (Row 0) (Column 0) (Padx 5) (Pady 10))
 "grid .lbl_quelle -row 0 -column 0 -padx 5 -pady 10"
 
 (:setgrid lf (Row 2) (Column 3) (Columnspan 4)
           (Sticky "ew") (Padx 10) (Pady 5))
 </pre></blockquote>
<br/><br/><center>&sect;</center><br/>
<a name="Window_build"></a><h3><font color=#CC0000>Window:build</font></h3>
<b>syntax: (<font color=#CC0000>Window:build</font>)</b><br/>
<br/><br/>
 Method <em>:build</em> builds the main window-Tcl/Tk-string being sent to the
 wish-server via Tk.
<br/><br/>
<b>Example:</b><blockquote><pre> &gt; (ts:setw (Window (Name 'win)          ;main window
                    (Title "Datensicherung")
                    (Minsize (Width 100)
                             (Height 50))))
 (Window (Name "win") (Title "Datensicherung") (Minsize (Width 720) (Height 250)))
 
 (:build win)                            ;will send it to Tk like this:
 wm title . "Datensicherung"
 wm minsize . 720 250</pre></blockquote>
<br/><br/><center>&sect;</center><br/>
<a name="_insert"></a><h3><font color=#CC0000>:insert</font></h3>
<b>syntax: (<font color=#CC0000>:insert</font> <em>obj-name</em> <em>index</em> <em>str-val</em>)</b><br/>
<br/><br/>
<b>parameter: </b><em>obj-name</em> - widget (entry)<br/>
<b>parameter: </b><em>index</em> - number (postion from where it starts, minimum 0) or "end"<br/>
<b>parameter: </b><em>str-val</em> - string to enter into entry field.<br/>
<br/><br/>
 Inserts a text into <em>obj</em> if possible.  Normally an entry- or text-field.
<br/><br/>
<b>Example:</b><blockquote><pre>  (:insert en "end" "Text Hugo")
 --&gt; tcltk:
  ".en insert end \"Text Hugo\""</pre></blockquote>
<br/><br/><center>&sect;</center><br/>
<a name="_import"></a><h3><font color=#CC0000>:import</font></h3>
<b>syntax: (<font color=#CC0000>:import</font> <em>obj-name</em> <em>str-pos</em> <em>str-file-name</em> )</b><br/>
<br/><br/>
<b>parameter: </b><em>obj-name</em> - widget (entry)<br/>
<b>parameter: </b><em>str-pos</em> - position "0"... or "end"<br/>
<b>parameter: </b><em>str-file-name</em> - string denoting a file path<br/>
<br/><br/>
 Imports the content of a text file named in <em>str-file-name</em> into
 the widget described by <em>obj-name</em>.  Normally a Scrolledtext area.
<br/><br/>
<b>Example:</b><blockquote><pre>  (:import tx "end" "readme.txt")
 --&gt; tcltk:
  ".tx import \"readme.txt\" end"</pre></blockquote>
 ----------------------------------------------------------------------
<br/><br/><center>&sect;</center><br/>
<a name="_erase"></a><h3><font color=#CC0000>:erase</font></h3>
<b>syntax: (<font color=#CC0000>:erase</font> <em>obj-name</em> <em>from-index</em> <em>to-index</em>)</b><br/>
<br/><br/>
<b>parameter: </b><em>obj-name</em> - widget<br/>
<b>parameter: </b><em>from-index</em> - number (position)<br/>
<b>parameter: </b><em>to-index</em> - number (position) or "end"<br/>
<br/><br/>
 Deletes text from <em>obj</em> if possible.  Normally an entry- or text-field.
<br/><br/>
<b>Example:</b><blockquote><pre> &gt; (ts:setw (Entry (Name 'en) (Text "hugo")))
 (Entry (Name "en") (Text "hugo"))

 &gt; (:erase en 0 "end" )
 --&gt; tcltk:
 .en delete 0 end</pre></blockquote>
 ----------------------------------------------------------------------
<br/><br/><center>&sect;</center><br/>
<a name="_configure"></a><h3><font color=#CC0000>:configure</font></h3>
<b>syntax: (<font color=#CC0000>:configure</font> <em>obj-name</em> <em>obj-option</em>... )</b><br/>
<br/><br/>
<b>parameter: </b><em>obj-name</em> - widget<br/>
<b>parameter: </b><em>obj-option</em> - option to change<br/>
<br/><br/>
 Changes an option of a widget.
<br/><br/>
<b>Example:</b><blockquote><pre> (ts:setw (Entry (Name 'en) (Text "hugo")))
 
 (:configure en (State "disabled")) 
 
 ttk::entry .en -text "hugo"
 .en         configure -state disabled 
 
 (:configure &lt;obj&gt; (Text "new text")) </pre></blockquote>
<br/><br/><center>&sect;</center><br/>
<a name="_Label"></a><h3><font color=#CC0000>Label</font></h3>
<b>syntax: (<font color=#CC0000>Label</font> (Parent <em>symbol-or-string</em>) {option}... )</b><br/>
<br/><br/>
 A Label always needs a parent. If no parent is given, then the
 default value for parent will be: >.< in (:build), which means: main window.
<br/><br/>
 A label ist set up like this:
<br/><br/>
<b>Example:</b><blockquote><pre> with a parent:
 &gt; (ts:setw (Label (Parent 'win) (Name "lb1") (Text "Feld 1")))
 (Label (Parent win) (Name "lb1") (Text "Feld 1"))
 
 &gt; (ts:setw (Label (Parent ".") (Name "lb1") (Text "Feld 1")))
 (Label (Parent ".") (Name "lb1") (Text "Feld 1"))
 
 without a parent:
 &gt; (ts:setw (Label (Name "lb1") (Text "Feld 1")))
 (Label (Name "lb1") (Text "Feld 1"))</pre></blockquote>
<br/><br/><center>&sect;</center><br/>
<a name="Label_build"></a><h3><font color=#CC0000>Label:build</font></h3>
<b>syntax: (<font color=#CC0000>Label:build</font>)</b><br/>
<br/><br/>
 Method <em>:build</em> builds the Tcl/Tk-string being sent to the wish-server
 via Tk.lsp (context 'Tk).
<br/><br/>
 The name of the Label always needs a parent. If no parent is given,
 then the default value for parent is: >.<, which means: main window.
<br/><br/>
<b>Example:</b><blockquote><pre> &gt; (ts:setw (Label (Name 'lbl_quelle) (Text "Quelle"))) ;define label
 &gt; (:build lbl_quelle)
 ttk::label .lbl_quelle -text "Quelle"</pre></blockquote>
<br/><br/><center>&sect;</center><br/>
<a name="Button_build"></a><h3><font color=#CC0000>Button:build</font></h3>
<b>syntax: (<font color=#CC0000>Button:build</font>)</b><br/>
<br/><br/>
 Method <em>:build</em> builds the button Tcl/Tk-string being sent to the
 wish-server via Tk.lsp (context 'Tk).
<br/><br/>
 The name of a button always needs a parent. If no parent is given,
 then the default value for parent is: >.<, which means: main window.
<br/><br/>
<b>Example:</b><blockquote><pre> (ts:setw (Button (Name 'btQuit) (Text "Quit") (Command "end")))
 --&gt; ttk::button .btQuit -text "Quit" -command {(MAIN:end)}</pre></blockquote>
 use widget-variables to retrieve their actual values
 Use a dictionary for these variables.
 Then we can see both: variable name and it's value




<br/><br/><center>&sect;</center><br/>
<a name="ts_setw"></a><h3><font color=#CC0000>ts:setw</font></h3>
<b>syntax: (<font color=#CC0000>ts:setw</font> <em>class-widget-definition</em>)</b><br/>
<b>parameter: </b> - <em>class-widget-definition</em> contains a list of nested objects.<br/>
<br/><br/>
 Method <em>ts:setw</em> "set widget" creates a newLISP symbol derived from the string given to
 Class 'Name.
<br/><br/>
<b>Example:</b><blockquote><pre> define a label with name "lb1"
 &gt; (ts:setw (Label (Name "lb1") (Text "Feld 1"))) ;define label with name lb1
 (Label (Name "lb1") (Text "Feld 1"))
 
 &gt; lb1            ; newLISP-variable
 (Label (Name "lb1") (Text "Feld 1"))
 
 &gt; (ts:setw (Window (Name ".") (Title "Test-GUI") (Minsize (Width 720) (Height 250))))
 (Window (Name ".") (Title "Test-GUI") (Minsize (Width 720) (Height 250)))
 &gt; .
 (Window (Name ".") (Title "Test-GUI") (Minsize (Width 720) (Height 250)))</pre></blockquote>

<br/><br/><center>- &part; -</center><br/>
<center><font face='Arial' size='-2' color='#444444'>
generated with <a href="http://newlisp.org">newLISP</a>&nbsp;
and <a href="http://newlisp.org/newLISPdoc.html">newLISPdoc</a>
</font></center>
</blockquote>
</body>
</html>
